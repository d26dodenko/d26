name: Debug Secrets

on: workflow_dispatch

jobs:
  debug:
    runs-on: ubuntu-latest
    steps:
      - name: Check all secrets
        run: |
          echo "=== Проверка секретов ==="
          echo "Количество секретов: ${{ secrets.size }}"
          echo ""
          echo "BEGET_HOST: ${{ secrets.BEGET_HOST != '' && 'УСТАНОВЛЕН' || 'НЕ УСТАНОВЛЕН' }}"
          echo "BEGET_USERNAME: ${{ secrets.BEGET_USERNAME != '' && 'УСТАНОВЛЕН' || 'НЕ УСТАНОВЛЕН' }}"
          echo "BEGET_PASSWORD: ${{ secrets.BEGET_PASSWORD != '' && 'УСТАНОВЛЕН' || 'НЕ УСТАНОВЛЕН' }}"
          echo "BEGET_DEPLOY_PATH: ${{ secrets.BEGET_DEPLOY_PATH != '' && 'УСТАНОВЛЕН' || 'НЕ УСТАНОВЛЕН' }}"
          
          echo ""
          echo "=== Проверка значений (без отображения самих значений) ==="
          echo "Длина BEGET_HOST: ${#{{ secrets.BEGET_HOST }}} символов"
          echo "Длина BEGET_USERNAME: ${#{{ secrets.BEGET_USERNAME }}} символов"
          echo "Длина BEGET_PASSWORD: ${#{{ secrets.BEGET_PASSWORD }}} символов"
          echo "Длина BEGET_DEPLOY_PATH: ${#{{ secrets.BEGET_DEPLOY_PATH }}} символов"
          
          echo ""
          echo "=== Инструкция ==="
          echo "Если любой секрет показывает 0 символов - его значение пустое!"
          echo "Зайдите в: Settings → Secrets and variables → Actions"
          echo "Удалите пустые секреты и создайте заново с правильными значениями"